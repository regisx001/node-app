{"version":3,"file":"stores-YH2kuO2K.js","sources":["../../../.svelte-kit/adapter-node/chunks/stores.js"],"sourcesContent":["import { d as derived, w as writable } from \"./index.js\";\nlet timeoutAction;\nlet timeoutEnable;\nfunction withoutTransition(action) {\n  if (typeof document === \"undefined\")\n    return;\n  clearTimeout(timeoutAction);\n  clearTimeout(timeoutEnable);\n  const style = document.createElement(\"style\");\n  const css = document.createTextNode(`* {\n     -webkit-transition: none !important;\n     -moz-transition: none !important;\n     -o-transition: none !important;\n     -ms-transition: none !important;\n     transition: none !important;\n  }`);\n  style.appendChild(css);\n  const disable = () => document.head.appendChild(style);\n  const enable = () => document.head.removeChild(style);\n  if (typeof window.getComputedStyle !== \"undefined\") {\n    disable();\n    action();\n    window.getComputedStyle(style).opacity;\n    enable();\n    return;\n  }\n  if (typeof window.requestAnimationFrame !== \"undefined\") {\n    disable();\n    action();\n    window.requestAnimationFrame(enable);\n    return;\n  }\n  disable();\n  timeoutAction = window.setTimeout(() => {\n    action();\n    timeoutEnable = window.setTimeout(enable, 120);\n  }, 120);\n}\nconst noopStorage = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getItem: (_key) => null,\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  setItem: (_key, _value) => {\n  }\n};\nconst isBrowser = typeof document !== \"undefined\";\nconst modes = [\"dark\", \"light\", \"system\"];\nconst localStorageKey = \"mode-watcher-mode\";\nconst userPrefersMode = createUserPrefersMode();\nconst systemPrefersMode = createSystemMode();\nconst themeColors = writable(void 0);\nconst disableTransitions = writable(true);\ncreateDerivedMode();\nfunction createUserPrefersMode() {\n  const defaultValue = \"system\";\n  const storage = isBrowser ? localStorage : noopStorage;\n  const initialValue = storage.getItem(localStorageKey);\n  let value = isValidMode(initialValue) ? initialValue : defaultValue;\n  const { subscribe, set: _set } = writable(value, () => {\n    if (!isBrowser)\n      return;\n    const handler = (e) => {\n      if (e.key !== localStorageKey)\n        return;\n      const newValue = e.newValue;\n      if (isValidMode(newValue)) {\n        _set(value = newValue);\n      } else {\n        _set(value = defaultValue);\n      }\n    };\n    addEventListener(\"storage\", handler);\n    return () => removeEventListener(\"storage\", handler);\n  });\n  function set(v) {\n    _set(value = v);\n    storage.setItem(localStorageKey, value);\n  }\n  return {\n    subscribe,\n    set\n  };\n}\nfunction createSystemMode() {\n  const defaultValue = void 0;\n  let track = true;\n  const { subscribe, set } = writable(defaultValue, () => {\n    if (!isBrowser)\n      return;\n    const handler = (e) => {\n      if (!track)\n        return;\n      set(e.matches ? \"light\" : \"dark\");\n    };\n    const mediaQueryState = window.matchMedia(\"(prefers-color-scheme: light)\");\n    mediaQueryState.addEventListener(\"change\", handler);\n    return () => mediaQueryState.removeEventListener(\"change\", handler);\n  });\n  function query() {\n    if (!isBrowser)\n      return;\n    const mediaQueryState = window.matchMedia(\"(prefers-color-scheme: light)\");\n    set(mediaQueryState.matches ? \"light\" : \"dark\");\n  }\n  function tracking(active) {\n    track = active;\n  }\n  return {\n    subscribe,\n    query,\n    tracking\n  };\n}\nfunction createDerivedMode() {\n  const { subscribe } = derived([userPrefersMode, systemPrefersMode, themeColors, disableTransitions], ([$userPrefersMode, $systemPrefersMode, $themeColors, $disableTransitions]) => {\n    if (!isBrowser)\n      return void 0;\n    const derivedMode = $userPrefersMode === \"system\" ? $systemPrefersMode : $userPrefersMode;\n    function update() {\n      const htmlEl = document.documentElement;\n      const themeColorEl = document.querySelector('meta[name=\"theme-color\"]');\n      if (derivedMode === \"light\") {\n        htmlEl.classList.remove(\"dark\");\n        htmlEl.style.colorScheme = \"light\";\n        if (themeColorEl && $themeColors) {\n          themeColorEl.setAttribute(\"content\", $themeColors.light);\n        }\n      } else {\n        htmlEl.classList.add(\"dark\");\n        htmlEl.style.colorScheme = \"dark\";\n        if (themeColorEl && $themeColors) {\n          themeColorEl.setAttribute(\"content\", $themeColors.dark);\n        }\n      }\n    }\n    if ($disableTransitions) {\n      withoutTransition(update);\n    } else {\n      update();\n    }\n    return derivedMode;\n  });\n  return {\n    subscribe\n  };\n}\nfunction isValidMode(value) {\n  if (typeof value !== \"string\")\n    return false;\n  return modes.includes(value);\n}\nexport {\n  disableTransitions as d,\n  themeColors as t\n};\n"],"names":[],"mappings":"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"}